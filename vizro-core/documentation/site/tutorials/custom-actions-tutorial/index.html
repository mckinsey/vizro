
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Core Vizro documentation">
      
      
      
        <link rel="canonical" href="https://vizro.readthedocs.io/en/stable/tutorials/custom-actions-tutorial/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="zensical-0.0.11">
    
    
      
        <title>Write your own actions - Vizro</title>
      
    
    
      
        
      
      <link rel="stylesheet" href="../../assets/stylesheets/classic/main.59dc44d5.min.css">
      
        
          
        
        <link rel="stylesheet" href="../../assets/stylesheets/classic/palette.7dc9a0ad.min.css">
      
      
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
  
  <style>:root{}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0),__md_get=(e,t=localStorage,a=__md_scope)=>JSON.parse(t.getItem(a.pathname+"."+e)),__md_set=(e,t,a=localStorage,_=__md_scope)=>{try{a.setItem(_.pathname+"."+e,JSON.stringify(t))}catch(e){}},document.documentElement.setAttribute("data-platform",navigator.platform)</script>
    
      

    
    
<meta
  name="google-site-verification"
  content="CYb3cxosCgsN2QDQVaSGQpMQCesqpsGQ3oTM02NtvkY"
/>
<link
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
  rel="stylesheet"
/>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#write-your-own-actions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Vizro" class="md-header__button md-logo" aria-label="Vizro" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vizro
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Write your own actions
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-moon" viewBox="0 0 24 24"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog" aria-label="Search">
  <button type="button" class="md-search__button">
    Search
  </button>
</div>
      
    
    <div class="md-header__source">
      
        <a href="https://github.com/mckinsey/vizro" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    mckinsey/vizro
  </div>
</a>
      
    </div>
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  Vizro

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../pages/tutorials/quickstart-tutorial.md" class="md-tabs__link">
          
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../pages/user-guides/install.md" class="md-tabs__link">
          
  
  How-to guides

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../pages/API-reference/vizro.md" class="md-tabs__link">
          
  
  API reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../pages/explanation/schema.md" class="md-tabs__link">
          
  
  Find out more

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="https://vizro.readthedocs.io/projects/vizro-mcp/" class="md-tabs__link">
          
  
  Vizro-MCP

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Vizro" class="md-nav__button md-logo" aria-label="Vizro" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Vizro
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mckinsey/vizro" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    mckinsey/vizro
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vizro
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/tutorials/quickstart-tutorial.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/tutorials/explore-components.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Explore Vizro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/tutorials/custom-actions-tutorial.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Write your own actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    How-to guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-to guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Fundamentals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Fundamentals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/install.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install Vizro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/dashboard.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dashboard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/pages.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Page
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/run-deploy.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Run or deploy dashboards
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Components
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/components.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/graph.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/table.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Table
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/figure.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Figure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/card.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Card
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/text.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/button.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Button
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/container.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Container
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/tabs.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tab
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Controls
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Controls
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/controls.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/filters.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/parameters.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parameter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/selectors.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Selector
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/navigation.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Navigation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Actions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Actions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/actions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/data-actions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Handle data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/graph-table-actions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Graph and table interactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Visual formatting
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Visual formatting
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/visual-formatting.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/layouts.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Layout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/themes.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Theme
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/assets.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Assets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/custom-css.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom CSS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Data
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/data.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/kedro-data-catalog.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kedro Data Catalog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Extensions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Extensions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/extensions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/custom-actions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/custom-charts.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom charts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/custom-tables.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom tables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/custom-figures.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom figures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/user-guides/custom-components.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/API-reference/vizro.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vizro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/API-reference/models.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/API-reference/actions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/API-reference/table-callables.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Table functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/API-reference/figure-callables.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Figure functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/API-reference/kedro-integration.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kedro integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/API-reference/deprecations.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deprecations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Find out more
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Find out more
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Technical
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Technical
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/explanation/schema.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vizro schema
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/explanation/actions-explanation.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    About Vizro
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    About Vizro
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/explanation/faq.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/explanation/your-examples.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/cheatsheet/cheatsheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cheatsheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/explanation/contributing.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contribute to Vizro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/explanation/documentation-style-guide.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documentation style
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/explanation/authors.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Vizro-MCP
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Vizro-MCP
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://vizro.readthedocs.io/projects/vizro-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vizro-MCP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#a-simple-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        A simple action
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#runtime-input" class="md-nav__link">
    <span class="md-ellipsis">
      
        Runtime input
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-inputs-and-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multiple inputs and outputs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actions-chains" class="md-nav__link">
    <span class="md-ellipsis">
      
        Actions chains
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Actions chains">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explicit-actions-chain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Explicit actions chain
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implicit-actions-chain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implicit actions chain
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parallel-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parallel actions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handle-errors-and-debug" class="md-nav__link">
    <span class="md-ellipsis">
      
        Handle errors and debug
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-principles-of-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key principles of actions
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  

<h1 id="write-your-own-actions">Write your own actions<a class="headerlink" href="#write-your-own-actions" title="Permanent link">&para;</a></h1>
<p>Actions control how your app responds to user input such as clicking a button or a point on a graph. Vizro provides <a href="../../user-guides/actions/">built-in actions</a> and also enables you to write your own <a href="../../user-guides/custom-actions/">custom actions</a>. In this tutorial you will learn how to write your own custom actions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This tutorial assumes a basic knowledge of Vizro. If you haven't already done so, you should get started with Vizro in the <a href="../quickstart-tutorial/">quickstart tutorial</a> or work through a <a href="../explore-components/">more in-depth tutorial</a>.</p>
</div>
<p>Vizro's actions are built on top of <a href="https://dash.plotly.com/basic-callbacks">Dash callbacks</a>, but you do not need to know anything about Dash callbacks to complete the tutorial. We also have an <a href="../../explanation/actions-explanation/">explanation of how Vizro actions work</a> and their similarities and differences compared to Dash callbacks.</p>
<p>This tutorial should take <strong>about an hour to finish</strong>. You will gradually build a single-page app of a simple form that uses custom actions to show the current time, date and weather in Washington, D.C. or Berlin. Here's the final app in action:</p>
<p><a href="../../../assets/tutorials/actions/08_action.gif"><img alt="CustAction8" src="../../../assets/tutorials/actions/08_action.gif" /></a></p>
<h2 id="a-simple-action">A simple action<a class="headerlink" href="#a-simple-action" title="Permanent link">&para;</a></h2>
<p>Let's start by making a very simple single-page app that tells us the current time when the user clicks on a button. We begin by configuring the layout: a <a href="../../user-guides/button/">button</a> and a <a href="../../user-guides/card/">card with text</a> in a <a href="../../user-guides/layouts/">flex layout</a>.</p>
<div class="admonition example">
<p class="admonition-title">App layout</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">app.py</label><label for="__tabbed_1_2">Result</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vizro.models</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vm</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vizro</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">page</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My first action&quot;</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(),</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Button</span><span class="p">(),</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="p">],</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="p">)</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="n">dashboard</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">(</span><span class="n">pages</span><span class="o">=</span><span class="p">[</span><span class="n">page</span><span class="p">])</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="n">Vizro</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">dashboard</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<p><a href="../../../assets/tutorials/actions/01_action.png"><img alt="CustAction1" src="../../../assets/tutorials/actions/01_action.png" /></a></p>
</div>
</div>
</div>
</div>
<p>We have specified that a button should be included in the page layout but haven't configured what should happen when it is clicked. Let's define an action for that and <a href="../../user-guides/custom-actions/#trigger-an-action-with-a-button">attach it to the button</a> with the <code>actions</code> argument and the [<code>Action</code>][vizro.models.Action] model.</p>
<div class="admonition example">
<p class="admonition-title">A simple action</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">app.py</label><label for="__tabbed_2_2">Result</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>
</span></span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vizro.models</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vm</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vizro</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">vizro.models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">capture</span>
</span></span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="hll">
</span></span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="hll">
</span></span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="hll"><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>  <span class="c1"># (1)!</span>
</span></span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">update_card</span><span class="p">():</span>  <span class="c1"># (2)!</span>
</span></span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="hll">    <span class="n">time_format</span> <span class="o">=</span> <span class="s2">&quot;%H:%M:%S %Z&quot;</span>
</span></span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="hll">    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</span></span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="hll">    <span class="n">time</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">time_format</span><span class="p">)</span>
</span></span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="hll">    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The time is </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># (3)!</span>
</span></span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="n">page</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My first action&quot;</span><span class="p">,</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>    <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(),</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>    <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="hll">            <span class="n">actions</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>  <span class="c1"># (4)!</span>
</span></span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="hll">                <span class="n">function</span><span class="o">=</span><span class="n">update_card</span><span class="p">(),</span>
</span></span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="hll">                <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span>
</span></span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="hll">            <span class="p">)</span>
</span></span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>        <span class="p">),</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="hll">        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>  <span class="c1"># (5)!</span>
</span></span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>    <span class="p">],</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="p">)</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="n">dashboard</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">(</span><span class="n">pages</span><span class="o">=</span><span class="p">[</span><span class="n">page</span><span class="p">])</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="n">Vizro</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">dashboard</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<ol>
<li>You can write a simple action using the <code>capture("action")</code> decorator. This prepares a function to be used as a Vizro action.</li>
<li>For now, the <code>update_card</code> function has no arguments.</li>
<li>An action doesn't need to have outputs, but this one returns a string. An action can return values of any Python type that can be converted to JSON.</li>
<li>We attach the action to the <code>vm.Button</code> model using the <code>actions</code> argument. We call the action function with <code>function=update_card()</code> (remember the <code>()</code>) and set the output to <code>"time_card"</code>.</li>
<li>To use the <code>vm.Card</code> as an output, we supply <code>id="time_card"</code> that matches onto the action's <code>outputs</code>. It does not matter that this component is defined after the <code>vm.Action</code> that uses it.</li>
</ol>
</div>
<div class="tabbed-block">
<p><a href="../../../assets/tutorials/actions/02_action.gif"><img alt="CustAction2" src="../../../assets/tutorials/actions/02_action.gif" /></a></p>
</div>
</div>
</div>
</div>
<p>Congratulations on writing your first action! Before clicking the button, the card's text is "Click the button". When you click the button, the <code>update_card</code> action is <em>triggered</em>. This Python function executes on the server to find the current time in the UTC timezone and return a string "The time is ...". The resulting value is sent back to the user's screen and updates the text of the component with <code>id="time_card"</code>. This is the action's <em>output</em>.</p>
<p>As we cover increasingly complex actions, it can be very helpful to understand the actions using a flowchart similar to Dash dev tools' <a href="https://dash.plotly.com/devtools#callback-graph">callback graph</a>. We can visualize the above example as follows:</p>
<pre class="mermaid"><code>graph TD
  submit_button == trigger ==&gt; update_card([update_card]) -- output --&gt; time_card</code></pre>
<p>In this flowchart, the rectangular boxes refer to Vizro models that are used as a trigger and output for an action. The action function is shown in a round box, and we use a thick line for the trigger.</p>
<h2 id="runtime-input">Runtime input<a class="headerlink" href="#runtime-input" title="Permanent link">&para;</a></h2>
<p>Let's extend our action to depend on an <em>input</em> from the user's screen. As before, let's start by adding something to the layout and then handle the action. Here we create a small form by adding a [<code>Switch</code>][vizro.models.Switch] to the layout that lets the user specify whether they would like to use the 12- or 24-hour clock.</p>
<div class="admonition example">
<p class="admonition-title">Add <code>Switch</code> to layout</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">app.py</label><label for="__tabbed_3_2">Result</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vizro.models</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vm</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vizro</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro.models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">capture</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_card</span><span class="p">():</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>    <span class="n">time_format</span> <span class="o">=</span> <span class="s2">&quot;%H:%M:%S %Z&quot;</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>    <span class="n">time</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">time_format</span><span class="p">)</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The time is </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="hll"><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">)</span>  <span class="c1"># (1)!</span>
</span></span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="n">page</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My first action&quot;</span><span class="p">,</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>    <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(),</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>    <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="hll">        <span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>  <span class="c1"># (2)!</span>
</span></span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="hll">            <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">),</span>
</span></span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="hll">            <span class="n">variant</span><span class="o">=</span><span class="s2">&quot;outlined&quot;</span><span class="p">,</span>
</span></span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>            <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="hll">                <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;24-hour clock&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span></span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>                    <span class="n">actions</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>                        <span class="n">function</span><span class="o">=</span><span class="n">update_card</span><span class="p">(),</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>                        <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>                    <span class="p">),</span>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>                <span class="p">),</span>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>            <span class="p">],</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a>        <span class="p">),</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>    <span class="p">],</span>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="p">)</span>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="n">dashboard</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">(</span><span class="n">pages</span><span class="o">=</span><span class="p">[</span><span class="n">page</span><span class="p">])</span>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="n">Vizro</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">dashboard</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<ol>
<li>Currently [<code>Switch</code>][vizro.models.Switch] is designed to be used as a <a href="../../user-guides/selectors/">control selector</a>. In future, Vizro will have a dedicated <code>Form</code> model for the creation of forms. For now, we add them directly as <code>components</code> inside a [<code>Container</code>][vizro.models.Container]. For this to be a valid configuration we must first do <code>add_type</code> as for a <a href="../../user-guides/custom-components/">custom component</a>.</li>
<li>We group the form inputs into a <a href="../../user-guides/container/#styled-containers">styled container</a> to achieve some visual separation of the form inputs and outputs. This is purely stylistic and does not affect the operation of actions.</li>
</ol>
</div>
<div class="tabbed-block">
<p><a href="../../../assets/tutorials/actions/03_action.png"><img alt="CustAction3" src="../../../assets/tutorials/actions/03_action.png" /></a></p>
</div>
</div>
</div>
</div>
<p>Now we need to connect <code>vm.Switch(id="clock_switch")</code> to our <code>update_card</code> action. We add an argument <code>use_24_hour_clock</code> to the <code>update_card</code> function and configure the function call in <code>vm.Action</code> to use the <code>clock_switch</code> component as the input value of this argument.</p>
<div class="admonition example">
<p class="admonition-title">Connect <code>Switch</code> to <code>update_card</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">app.py</label><label for="__tabbed_4_2">Result</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vizro.models</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vm</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vizro</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro.models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">capture</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">update_card</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">):</span>   <span class="c1"># (1)!</span>
</span></span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="hll">     <span class="n">time_format</span> <span class="o">=</span> <span class="s2">&quot;%H:%M:%S %Z&quot;</span> <span class="k">if</span> <span class="n">use_24_hour_clock</span> <span class="k">else</span> <span class="s2">&quot;%I:%M:%S %p %Z&quot;</span>   <span class="c1"># (2)!</span>
</span></span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>     <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>     <span class="n">time</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">time_format</span><span class="p">)</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>     <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The time is </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">)</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="n">page</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>     <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My first action&quot;</span><span class="p">,</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>     <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(),</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>     <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>         <span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>             <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">),</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>             <span class="n">variant</span><span class="o">=</span><span class="s2">&quot;outlined&quot;</span><span class="p">,</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>             <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>                 <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;24-hour clock&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>                 <span class="n">vm</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>                     <span class="n">actions</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="hll">                         <span class="n">function</span><span class="o">=</span><span class="n">update_card</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">),</span>  <span class="c1"># (3)!</span>
</span></span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>                         <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>                     <span class="p">),</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>                 <span class="p">),</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>             <span class="p">],</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>         <span class="p">),</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a>         <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a>     <span class="p">],</span>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="p">)</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="n">dashboard</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">(</span><span class="n">pages</span><span class="o">=</span><span class="p">[</span><span class="n">page</span><span class="p">])</span>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="n">Vizro</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">dashboard</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<ol>
<li>We add an argument <code>use_24_hour_clock</code> to <code>update_card</code>. This will receive a boolean value <code>True</code> or <code>False</code>.</li>
<li><code>time_format</code> now depends on the value of <code>use_24_hour_clock</code>.</li>
<li>The argument <code>use_24_hour_clock</code> is set at runtime to the value of the <code>clock_switch</code> component. This will be <code>True</code> or <code>False</code> depending on whether the switch is toggled on or off. Here we use a keyword argument but, just like a normal Python function call, we could also use a positional argument as <code>update_card("clock_switch")</code>.</li>
</ol>
</div>
<div class="tabbed-block">
<p><a href="../../../assets/tutorials/actions/04_action.gif"><img alt="CustAction4" src="../../../assets/tutorials/actions/04_action.gif" /></a></p>
</div>
</div>
</div>
</div>
<p>Have a go at toggling the switch and clicking the button. You should find that the format of the time shown changes between 12- and 24-hour clock. Note that toggling the <code>clock_switch</code> does not by itself trigger <code>update_card</code>. The switch is used as a runtime input but the action is triggered only by clicking the button. In fact, this is a key principle governing Vizro actions: an action can have <strong>any number</strong> of inputs and outputs but <strong>only one</strong> trigger.</p>
<p>Let's look at what the actions flowchart looks like. We now have a new model with <code>id="clock_switch"</code> that is used as runtime input to the <code>update_card</code> action. We indicate runtime inputs using a dotted line.</p>
<pre class="mermaid"><code>graph TD
  subgraph screen_1[" "]
    clock_switch
    submit_button
  end

  clock_switch -. runtime input .-&gt; update_card -- output --&gt; time_card
  submit_button == trigger ==&gt; update_card([update_card])</code></pre>
<p>Action inputs and outputs can be used in multiple actions; there can be any number of actions that use the same <code>clock_switch</code>, <code>submit_button</code> and <code>time_card</code> as inputs or outputs.</p>
<h2 id="multiple-inputs-and-outputs">Multiple inputs and outputs<a class="headerlink" href="#multiple-inputs-and-outputs" title="Permanent link">&para;</a></h2>
<p>Let's extend our example to handle multiple inputs and outputs. We add another card to show the date and a [<code>RadioItems</code>][vizro.models.RadioItems] to allow the user to configure the date format.</p>
<div class="admonition example">
<p class="admonition-title">Multiple inputs and outputs</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">app.py</label><label for="__tabbed_5_2">Result</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vizro.models</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vm</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vizro</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro.models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">capture</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">update_cards</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">,</span> <span class="n">date_format</span><span class="p">):</span>  <span class="c1"># (1)!</span>
</span></span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>     <span class="n">time_format</span> <span class="o">=</span> <span class="s2">&quot;%H:%M:%S %Z&quot;</span> <span class="k">if</span> <span class="n">use_24_hour_clock</span> <span class="k">else</span> <span class="s2">&quot;%I:%M:%S %p %Z&quot;</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="hll">     <span class="n">date_format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%y&quot;</span> <span class="k">if</span> <span class="n">date_format</span> <span class="o">==</span> <span class="s2">&quot;DD/MM/YY&quot;</span> <span class="k">else</span> <span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%y&quot;</span>
</span></span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>     <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>     <span class="n">time</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">time_format</span><span class="p">)</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="hll">     <span class="n">date</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
</span></span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="hll">     <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The time is </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot; The date is </span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># (2)!</span>
</span></span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">)</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="hll"><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">)</span>
</span></span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="n">page</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>     <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My first action&quot;</span><span class="p">,</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>     <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(),</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>     <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>         <span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>             <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">),</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>             <span class="n">variant</span><span class="o">=</span><span class="s2">&quot;outlined&quot;</span><span class="p">,</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>             <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>                 <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;24-hour clock&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="hll">                 <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DD/MM/YY&quot;</span><span class="p">,</span> <span class="s2">&quot;MM/DD/YY&quot;</span><span class="p">]),</span>
</span></span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>                 <span class="n">vm</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>                     <span class="n">actions</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a><span class="hll">                         <span class="n">function</span><span class="o">=</span><span class="n">update_cards</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">),</span>   <span class="c1"># (3)!</span>
</span></span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="hll">                         <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="s2">&quot;date_card&quot;</span><span class="p">],</span>   <span class="c1"># (4)!</span>
</span></span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>                     <span class="p">),</span>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>                 <span class="p">),</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a>             <span class="p">],</span>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a>         <span class="p">),</span>
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a>         <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a><span class="hll">         <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span></span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a>     <span class="p">],</span>
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a><span class="p">)</span>
</span><span id="__span-4-43"><a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a>
</span><span id="__span-4-44"><a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a><span class="n">dashboard</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">(</span><span class="n">pages</span><span class="o">=</span><span class="p">[</span><span class="n">page</span><span class="p">])</span>
</span><span id="__span-4-45"><a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a><span class="n">Vizro</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">dashboard</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<ol>
<li>We rename the function <code>update_cards</code> with an <code>s</code> and an argument <code>date_format</code>. This will receive a string value <code>"DD/MM/YY"</code> or <code>"MM/DD/YY"</code>.</li>
<li>We now return <em>two</em> strings.</li>
<li>The new argument <code>date_format</code> is set by <code>vm.RadioItems(date_radio_items)</code>.</li>
<li>There are now two outputs: <code>time_card</code> and <code>date_card</code>.</li>
</ol>
</div>
<div class="tabbed-block">
<p><a href="../../../assets/tutorials/actions/05_action.gif"><img alt="CustAction5" src="../../../assets/tutorials/actions/05_action.gif" /></a></p>
</div>
</div>
</div>
</div>
<p>Here's the updated actions flowchart. We now have two inputs and two outputs that are updated simultaneously when the <code>update_cards</code> action is triggered:</p>
<pre class="mermaid"><code>graph TD
  subgraph screen_1[" "]
    clock_switch
    date_radio_items
    submit_button
  end

  subgraph screen_2[" "]
    time_card
    date_card
  end

  clock_switch &amp; date_radio_items -. runtime input .-&gt; update_cards -- output --&gt; time_card &amp; date_card
  submit_button == trigger ==&gt; update_cards([update_cards])
</code></pre>
<p>The returned values are matched to the <code>outputs</code> in order. If your action has many outputs then it can be a good idea to instead return a dictionary where returned values are labeled by string keys. In this case, <code>outputs</code> should also be a dictionary with matching keys, and the order of entries does not matter:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_cards</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">,</span> <span class="n">date_format</span><span class="p">):</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="o">...</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;time_output&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot; The time is </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;date_output&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot; The date is </span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="o">...</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>   <span class="n">function</span><span class="o">=</span><span class="n">update_cards</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">),</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>   <span class="n">outputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;time_output&quot;</span><span class="p">:</span> <span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="s2">&quot;date_output&quot;</span><span class="p">:</span> <span class="s2">&quot;date_card&quot;</span><span class="p">},</span>  <span class="c1"># (1)!</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="p">)</span>
</span></code></pre></div>
<ol>
<li><code>outputs={"date_output": "date_card", "time_output": "time_card"}</code> would work exactly the same; the order of entries does not matter.</li>
</ol>
<h2 id="actions-chains">Actions chains<a class="headerlink" href="#actions-chains" title="Permanent link">&para;</a></h2>
<p>Sometimes you need a single trigger to execute multiple actions. Vizro uses <a href="../../user-guides/actions/#multiple-actions"><em>chains</em> of actions</a> to achieve this. There are two different ways to form an actions chain:</p>
<ul>
<li>Explicit actions chain. When you specify multiple actions as <code>actions=[action_1, action_2, ...]</code> then Vizro executes these actions in order, so that <code>action_2</code> executes only when <code>action_1</code> has completed.</li>
<li>Implicit actions chain. When one action outputs a trigger of another action then the subsequent action is triggered automatically.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In fact, the examples you have seen so far already contain action chains, just they have been chains with only one action in them. Behind the scenes, <code>actions=action</code> gets converted into <code>actions=[action]</code>, an action chains of length one.</p>
</div>
<h3 id="explicit-actions-chain">Explicit actions chain<a class="headerlink" href="#explicit-actions-chain" title="Permanent link">&para;</a></h3>
<p>Let's add some new functionality to our app that fetches the current weather in Berlin using the <a href="https://open-meteo.com/">Open-Meteo</a> weather API, which is free and does not require an API key. So far our actions have executed quick operations on the server. Making a request to an external API can be much slower. When the button is clicked, we perform the operation in two stages so that the user knows what is happening:</p>
<ol>
<li>Update cards on the screen to give the time and date, as before, but also give a temporary placeholder message to say that we're fetching the weather. This is done in the <code>update_cards</code> action.</li>
<li>Request the Open-Meteo API and update the placeholder message to give the current temperature in Berlin. This is done in the <code>fetch_weather</code> action.</li>
</ol>
<p>We explicitly chain together these two actions when the button is clicked by specifying a list of <code>actions</code> as follows:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">vm</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    <span class="n">actions</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>            <span class="n">function</span><span class="o">=</span><span class="n">update_cards</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">),</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>            <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="s2">&quot;date_card&quot;</span><span class="p">,</span> <span class="s2">&quot;weather_card&quot;</span><span class="p">],</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>        <span class="p">),</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">fetch_weather</span><span class="p">(),</span> <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;weather_card&quot;</span><span class="p">),</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>    <span class="p">],</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="p">)</span>
</span></code></pre></div>
<p>The full code is shown below.</p>
<details class="example">
<summary>Explicit actions chain</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">app.py</label><label for="__tabbed_6_2">Result</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="hll"><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>  <span class="c1"># (1)!</span>
</span></span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vizro.models</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vm</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vizro</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro.models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">capture</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_cards</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">,</span> <span class="n">date_format</span><span class="p">):</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    <span class="n">time_format</span> <span class="o">=</span> <span class="s2">&quot;%H:%M:%S %Z&quot;</span> <span class="k">if</span> <span class="n">use_24_hour_clock</span> <span class="k">else</span> <span class="s2">&quot;%I:%M:%S %p %Z&quot;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>    <span class="n">date_format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%y&quot;</span> <span class="k">if</span> <span class="n">date_format</span> <span class="o">==</span> <span class="s2">&quot;DD/MM/YY&quot;</span> <span class="k">else</span> <span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%y&quot;</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>    <span class="n">time</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">time_format</span><span class="p">)</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>    <span class="n">date</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="hll">    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The time is </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot; The date is </span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Fetching current weather...&quot;</span>  <span class="c1"># (2)!</span>
</span></span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="hll"><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span></span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">fetch_weather</span><span class="p">():</span>  <span class="c1"># (3)!</span>
</span></span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="hll">    <span class="n">berlin_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">52.5</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">13.4</span><span class="p">,</span> <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature_2m&quot;</span><span class="p">}</span>
</span></span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="hll">    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://api.open-meteo.com/v1/forecast&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">berlin_params</span><span class="p">)</span>
</span></span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="hll">    <span class="n">temperature</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;current&quot;</span><span class="p">][</span><span class="s2">&quot;temperature_2m&quot;</span><span class="p">]</span>
</span></span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="hll">    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;The current temperature in Berlin is </span><span class="si">{</span><span class="n">temperature</span><span class="si">}</span><span class="s2">C&quot;</span>
</span></span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">)</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">)</span>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="n">page</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My first action&quot;</span><span class="p">,</span>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>    <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(),</span>
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a>    <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a>            <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">),</span>
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a>            <span class="n">variant</span><span class="o">=</span><span class="s2">&quot;outlined&quot;</span><span class="p">,</span>
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a>            <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;24-hour clock&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-7-39"><a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DD/MM/YY&quot;</span><span class="p">,</span> <span class="s2">&quot;MM/DD/YY&quot;</span><span class="p">]),</span>
</span><span id="__span-7-40"><a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
</span><span id="__span-7-41"><a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="hll">                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;submit_button&quot;</span><span class="p">,</span>  <span class="c1"># (4)!</span>
</span></span><span id="__span-7-42"><a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a><span class="hll">                    <span class="n">actions</span><span class="o">=</span><span class="p">[</span>
</span></span><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="hll">                        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span></span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a><span class="hll">                            <span class="n">function</span><span class="o">=</span><span class="n">update_cards</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">),</span>
</span></span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a><span class="hll">                            <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="s2">&quot;date_card&quot;</span><span class="p">,</span> <span class="s2">&quot;weather_card&quot;</span><span class="p">],</span>
</span></span><span id="__span-7-46"><a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a><span class="hll">                        <span class="p">),</span>
</span></span><span id="__span-7-47"><a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a><span class="hll">                        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">fetch_weather</span><span class="p">(),</span> <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;weather_card&quot;</span><span class="p">),</span>
</span></span><span id="__span-7-48"><a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a><span class="hll">                    <span class="p">],</span>
</span></span><span id="__span-7-49"><a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a>                <span class="p">),</span>
</span><span id="__span-7-50"><a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a>            <span class="p">],</span>
</span><span id="__span-7-51"><a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a>        <span class="p">),</span>
</span><span id="__span-7-52"><a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-7-53"><a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-7-54"><a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a><span class="hll">        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;weather_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span></span><span id="__span-7-55"><a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a>    <span class="p">],</span>
</span><span id="__span-7-56"><a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a><span class="p">)</span>
</span><span id="__span-7-57"><a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a>
</span><span id="__span-7-58"><a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a><span class="n">dashboard</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">(</span><span class="n">pages</span><span class="o">=</span><span class="p">[</span><span class="n">page</span><span class="p">])</span>
</span><span id="__span-7-59"><a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a><span class="n">Vizro</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">dashboard</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<ol>
<li><a href="https://requests.readthedocs.io/">Requests</a> is a popular Python library for performing HTTP requests. It is a third party library but is a dependency of Dash and so should already be available without a <code>pip install</code>.</li>
<li>This now return <em>three</em> strings. "Fetching current weather..." only shows on the screen briefly while the <code>fetch_weather</code> action is executing.</li>
<li>We make a request to the <a href="https://open-meteo.com/en/docs">Open-Meteo API</a> to fetch the current temperature at the latitude and longitude of Berlin.</li>
<li>We don't actually need to set <code>id="submit_button"</code> yet but have added it in anticipation of the next section.</li>
</ol>
</div>
<div class="tabbed-block">
<p><a href="../../../assets/tutorials/actions/06_action.gif"><img alt="CustAction6" src="../../../assets/tutorials/actions/06_action.gif" /></a></p>
</div>
</div>
</div>
</details>
<p>When you click the button, the <code>update_cards</code> action executes and sets the placeholder message "Fetching current weather...". When this action completes, the <code>fetch_weather</code> action executes to find the actual weather and update the message. The Open-Meteo API request generally completes very quickly and so "Fetching current weather..." will only flash on your screen very briefly. If you'd like to artificially slow down the <code>fetch_weather</code> action to see it more clearly then you can add <code>from time import sleep; sleep(3)</code> to the function body to add a delay of 3 seconds.</p>
<p>The actions flowchart now has a new output <code>weather_card</code> and a new action <code>fetch_weather</code>. The trigger for this action is completion of the <code>update_cards</code> action. Note that both these actions share the same output <code>weather_card</code>. In Vizro, a model can be an input or output for any number of actions.</p>
<pre class="mermaid"><code>graph TD
  subgraph screen_1[" "]
    clock_switch
    date_radio_items
    submit_button
  end

  subgraph screen_2[" "]
    time_card
    date_card
    weather_card
  end

  clock_switch &amp; date_radio_items -. runtime input .-&gt; update_cards -- output --&gt; time_card &amp; date_card &amp; weather_card
  fetch_weather -- output --&gt; weather_card
  submit_button == trigger ==&gt; update_cards
  update_cards([update_cards]) == trigger ==&gt; fetch_weather([fetch_weather])</code></pre>
<h3 id="implicit-actions-chain">Implicit actions chain<a class="headerlink" href="#implicit-actions-chain" title="Permanent link">&para;</a></h3>
<p>Now we're going to re-work the example to demonstrate an implicit actions chain. Let's add a dropdown menu that allows the user to choose between seeing the weather in Washington, D.C. or in Berlin. When the user selects the city we also update the time and date shown to the format preferred by that location: for Washington, D.C., this is 12-hour clock and MM/DD/YY format; for Berlin, it is 24-hour clock and DD/MM/YY format.</p>
<p>When the city is selected in the dropdown, we want to immediately update the cards <em>without requiring the user to click <code>submit_button</code></em>. To achieve this, we write a new action <code>update_time_date_formats</code> triggered by the dropdown that outputs to <code>submit_button</code>.</p>
<div class="admonition example">
<p class="admonition-title">Implicit actions chain</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">app.py</label><label for="__tabbed_7_2">Result</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vizro.models</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vm</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vizro</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro.models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">capture</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_cards</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">,</span> <span class="n">date_format</span><span class="p">):</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>    <span class="n">time_format</span> <span class="o">=</span> <span class="s2">&quot;%H:%M:%S %Z&quot;</span> <span class="k">if</span> <span class="n">use_24_hour_clock</span> <span class="k">else</span> <span class="s2">&quot;%I:%M:%S %p %Z&quot;</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>    <span class="n">date_format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%y&quot;</span> <span class="k">if</span> <span class="n">date_format</span> <span class="o">==</span> <span class="s2">&quot;DD/MM/YY&quot;</span> <span class="k">else</span> <span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%y&quot;</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>    <span class="n">time</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">time_format</span><span class="p">)</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>    <span class="n">date</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The time is </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot; The date is </span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Fetching current weather...&quot;</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="hll"><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span></span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">fetch_weather</span><span class="p">(</span><span class="n">location</span><span class="p">):</span>  <span class="c1"># (1)!</span>
</span></span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="hll">    <span class="n">berlin_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">52.5</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">13.4</span><span class="p">,</span> <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature_2m&quot;</span><span class="p">}</span>
</span></span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="hll">    <span class="n">washington_dc_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">38.9</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">77.0</span><span class="p">,</span> <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature_2m&quot;</span><span class="p">}</span>
</span></span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="hll">    <span class="n">params</span> <span class="o">=</span> <span class="n">berlin_params</span> <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span> <span class="k">else</span> <span class="n">washington_dc_params</span>
</span></span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="hll">    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://api.open-meteo.com/v1/forecast&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</span></span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="hll">    <span class="n">temperature</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;current&quot;</span><span class="p">][</span><span class="s2">&quot;temperature_2m&quot;</span><span class="p">]</span>
</span></span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="hll">    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The current temperature in </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">temperature</span><span class="si">}</span><span class="s2">C&quot;</span>
</span></span><span id="__span-8-27"><a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a>
</span><span id="__span-8-28"><a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a>
</span><span id="__span-8-29"><a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="hll"><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span></span><span id="__span-8-30"><a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">update_time_date_formats</span><span class="p">(</span><span class="n">location</span><span class="p">):</span>  <span class="c1"># (2)!</span>
</span></span><span id="__span-8-31"><a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="hll">    <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span><span class="p">:</span>
</span></span><span id="__span-8-32"><a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="hll">        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;DD/MM/YY&quot;</span><span class="p">,</span> <span class="mi">1</span>  <span class="c1"># (3)!</span>
</span></span><span id="__span-8-33"><a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="hll">    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;MM/DD/YY&quot;</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span id="__span-8-34"><a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a>
</span><span id="__span-8-35"><a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a>
</span><span id="__span-8-36"><a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">)</span>
</span><span id="__span-8-37"><a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">)</span>
</span><span id="__span-8-38"><a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">)</span>
</span><span id="__span-8-39"><a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a>
</span><span id="__span-8-40"><a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a><span class="n">page</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span>
</span><span id="__span-8-41"><a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My first action&quot;</span><span class="p">,</span>
</span><span id="__span-8-42"><a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a>    <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(),</span>
</span><span id="__span-8-43"><a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a>    <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-8-44"><a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
</span><span id="__span-8-45"><a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a>            <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">),</span>
</span><span id="__span-8-46"><a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a>            <span class="n">variant</span><span class="o">=</span><span class="s2">&quot;outlined&quot;</span><span class="p">,</span>
</span><span id="__span-8-47"><a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a>            <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-8-48"><a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a><span class="hll">                <span class="n">vm</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
</span></span><span id="__span-8-49"><a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a><span class="hll">                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;location_dropdown&quot;</span><span class="p">,</span>
</span></span><span id="__span-8-50"><a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a><span class="hll">                    <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Berlin&quot;</span><span class="p">,</span> <span class="s2">&quot;Washington, D.C.&quot;</span><span class="p">],</span>
</span></span><span id="__span-8-51"><a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a><span class="hll">                    <span class="n">multi</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span></span><span id="__span-8-52"><a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a><span class="hll">                    <span class="n">actions</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span></span><span id="__span-8-53"><a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a><span class="hll">                        <span class="n">function</span><span class="o">=</span><span class="n">update_time_date_formats</span><span class="p">(</span><span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span>
</span></span><span id="__span-8-54"><a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a><span class="hll">                        <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span> <span class="s2">&quot;submit_button&quot;</span><span class="p">],</span>  <span class="c1"># (4)!</span>
</span></span><span id="__span-8-55"><a id="__codelineno-8-55" name="__codelineno-8-55" href="#__codelineno-8-55"></a><span class="hll">                    <span class="p">),</span>
</span></span><span id="__span-8-56"><a id="__codelineno-8-56" name="__codelineno-8-56" href="#__codelineno-8-56"></a><span class="hll">                    <span class="n">extra</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;min-width&quot;</span><span class="p">:</span> <span class="s2">&quot;200px&quot;</span><span class="p">}},</span>
</span></span><span id="__span-8-57"><a id="__codelineno-8-57" name="__codelineno-8-57" href="#__codelineno-8-57"></a><span class="hll">                <span class="p">),</span>
</span></span><span id="__span-8-58"><a id="__codelineno-8-58" name="__codelineno-8-58" href="#__codelineno-8-58"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;24-hour clock&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-8-59"><a id="__codelineno-8-59" name="__codelineno-8-59" href="#__codelineno-8-59"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DD/MM/YY&quot;</span><span class="p">,</span> <span class="s2">&quot;MM/DD/YY&quot;</span><span class="p">]),</span>
</span><span id="__span-8-60"><a id="__codelineno-8-60" name="__codelineno-8-60" href="#__codelineno-8-60"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
</span><span id="__span-8-61"><a id="__codelineno-8-61" name="__codelineno-8-61" href="#__codelineno-8-61"></a>                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;submit_button&quot;</span><span class="p">,</span>
</span><span id="__span-8-62"><a id="__codelineno-8-62" name="__codelineno-8-62" href="#__codelineno-8-62"></a>                    <span class="n">actions</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-8-63"><a id="__codelineno-8-63" name="__codelineno-8-63" href="#__codelineno-8-63"></a>                        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span><span id="__span-8-64"><a id="__codelineno-8-64" name="__codelineno-8-64" href="#__codelineno-8-64"></a>                            <span class="n">function</span><span class="o">=</span><span class="n">update_cards</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">),</span>
</span><span id="__span-8-65"><a id="__codelineno-8-65" name="__codelineno-8-65" href="#__codelineno-8-65"></a>                            <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="s2">&quot;date_card&quot;</span><span class="p">,</span> <span class="s2">&quot;weather_card&quot;</span><span class="p">],</span>
</span><span id="__span-8-66"><a id="__codelineno-8-66" name="__codelineno-8-66" href="#__codelineno-8-66"></a>                        <span class="p">),</span>
</span><span id="__span-8-67"><a id="__codelineno-8-67" name="__codelineno-8-67" href="#__codelineno-8-67"></a><span class="hll">                        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">fetch_weather</span><span class="p">(</span><span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span> <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;weather_card&quot;</span><span class="p">),</span>
</span></span><span id="__span-8-68"><a id="__codelineno-8-68" name="__codelineno-8-68" href="#__codelineno-8-68"></a>                    <span class="p">],</span>
</span><span id="__span-8-69"><a id="__codelineno-8-69" name="__codelineno-8-69" href="#__codelineno-8-69"></a>                <span class="p">),</span>
</span><span id="__span-8-70"><a id="__codelineno-8-70" name="__codelineno-8-70" href="#__codelineno-8-70"></a>            <span class="p">],</span>
</span><span id="__span-8-71"><a id="__codelineno-8-71" name="__codelineno-8-71" href="#__codelineno-8-71"></a>        <span class="p">),</span>
</span><span id="__span-8-72"><a id="__codelineno-8-72" name="__codelineno-8-72" href="#__codelineno-8-72"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-8-73"><a id="__codelineno-8-73" name="__codelineno-8-73" href="#__codelineno-8-73"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-8-74"><a id="__codelineno-8-74" name="__codelineno-8-74" href="#__codelineno-8-74"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;weather_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-8-75"><a id="__codelineno-8-75" name="__codelineno-8-75" href="#__codelineno-8-75"></a>    <span class="p">],</span>
</span><span id="__span-8-76"><a id="__codelineno-8-76" name="__codelineno-8-76" href="#__codelineno-8-76"></a><span class="p">)</span>
</span><span id="__span-8-77"><a id="__codelineno-8-77" name="__codelineno-8-77" href="#__codelineno-8-77"></a>
</span><span id="__span-8-78"><a id="__codelineno-8-78" name="__codelineno-8-78" href="#__codelineno-8-78"></a><span class="n">dashboard</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">(</span><span class="n">pages</span><span class="o">=</span><span class="p">[</span><span class="n">page</span><span class="p">])</span>
</span><span id="__span-8-79"><a id="__codelineno-8-79" name="__codelineno-8-79" href="#__codelineno-8-79"></a><span class="n">Vizro</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">dashboard</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<ol>
<li><code>fetch_weather</code> has been updated to take in <code>location</code>. This chooses between Washington, D.C. and Berlin.</li>
<li>When the location is Berlin, <code>update_time_date_formats</code> sets the app to use 24-hour clock and date format DD/MM/YY; otherwise, for Washington, D.C., we use 12-hour clock and date format MM/DD/YY.</li>
<li>In both cases we return 1 to the third output, which is <code>vm.Button(id="submit_button")</code>. This effectively tells Vizro that the button has been clicked 1 time in total. The choice of 1 is arbitrary and does not matter unless you need to keep track of the actual number of times the button has been clicked.</li>
<li><code>update_time_date_formats</code> sets the <code>clock_switch</code> and <code>date_radio_items</code> form fields and also updates <code>submit_button</code>. This update of <code>submit_button</code> triggers the actions chain associated with the submit button.</li>
</ol>
</div>
<div class="tabbed-block">
<p><a href="../../../assets/tutorials/actions/07_action.gif"><img alt="CustAction7" src="../../../assets/tutorials/actions/07_action.gif" /></a></p>
</div>
</div>
</div>
</div>
<p>Selecting a city in the dropdown triggers the <code>update_time_date_formats</code> action. When this action completes, Vizro automatically triggers the actions that would have been triggered by actually clicking <code>submit_button</code>. This forms an <em>implicit</em> connection between the <code>update_time_date_formats</code> action and the actions associated with <code>submit_button</code>.</p>
<p>Hence when the location dropdown is updated, the following three actions are triggered in order:</p>
<ol>
<li><code>update_time_date_formats</code>: triggered by the location dropdown</li>
<li><code>update_cards</code>: triggered implicitly by completion of <code>update_time_date_formats</code></li>
<li><code>fetch_weather</code>: triggered explicitly by completion of <code>update_cards</code></li>
</ol>
<p>Our actions flowchart is starting to grow quite large now that there's three actions, but really all that's different is the new <code>update_time_date_formats</code> actions and its associated inputs, outputs and triggers. Try following the line of triggers denoted with thick arrows. The actions <code>[update_date, fetch_weather]</code> that are in an explicit chain are directly connected by a thick arrow. On the other hand, the implicit connection between <code>update_time_date_formats</code> and <code>update_cards</code> is not a direct connection but instead goes through the <code>submit_button</code> model. Note also that the <code>location_dropdown</code> model is used as a trigger and a runtime input simultaneously.</p>
<pre class="mermaid"><code>graph TD
  subgraph screen_1[" "]
    clock_switch
    date_radio_items
    submit_button
  end

  subgraph screen_2[" "]
    time_card
    date_card
    weather_card
  end

  clock_switch &amp; date_radio_items -. runtime input .-&gt; update_cards -- output --&gt; time_card &amp; date_card &amp; weather_card
  location_dropdown -. runtime input .-&gt; update_time_date_formats -- output --&gt; clock_switch &amp; date_radio_items &amp; submit_button

  location_dropdown == trigger ==&gt; update_time_date_formats([update_time_date_formats])
  submit_button == trigger ==&gt; update_cards
  update_cards([update_cards]) == trigger ==&gt; fetch_weather([fetch_weather])

  location_dropdown -. runtime input .-&gt; fetch_weather -- output --&gt; weather_card</code></pre>
<p>An implicit action chain can only be formed by triggering the <em>first</em> action of an explicit chain (or a single action, if there is only one action in the chain). Here, <code>update_time_date_formats</code> triggers the first action <code>update_cards</code> in the chain <code>[update_cards, fetch_weather]</code>, which then triggers the chained action <code>fetch_weather</code>. It is not possible for an action to implicitly chain on to <code>fetch_weather</code> directly: there is no way for <code>fetch_weather</code> to run other than through the completion of <code>update_cards</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When you're building more complicated chains of actions, it's often useful to <em>start</em> by sketching an actions flowchart and then work out how to configure the actions to achieve it.</p>
</div>
<h2 id="parallel-actions">Parallel actions<a class="headerlink" href="#parallel-actions" title="Permanent link">&para;</a></h2>
<p>We are going to implement a few final enhancements to our example to improve the user experience. To make the app feel more responsive, we're going to remove the submit button and instead use <code>clock_switch</code> and <code>date_radio_items</code> as triggers themselves.</p>
<p>The <code>update_cards</code> action currently uses both <code>clock_switch</code> and <code>date_radio_items</code> as inputs and returns both <code>time_card</code> and <code>date_card</code> as outputs. However, really <code>clock_switch</code> only affects <code>time_card</code>, and <code>date_radio_items</code> only affects <code>date_card</code>. Let's split <code>update_cards</code> into two independent actions to reflect this:</p>
<ul>
<li><code>update_time_card</code>, which updates only <code>time_card</code></li>
<li><code>update_date_card</code>, which updates only <code>date_card</code></li>
</ul>
<p>As an additional enhancement we add <code>location_dropdown</code> as an input to these actions so that we can use the correct timezone for Washington, D.C. and Berlin.</p>
<details class="example">
<summary>Parallel actions</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">app.py</label><label for="__tabbed_8_2">Result</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
</span></span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">zoneinfo</span><span class="w"> </span><span class="kn">import</span> <span class="n">ZoneInfo</span>
</span></span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vizro.models</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vm</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vizro</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro.models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">capture</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="hll"><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span></span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">update_time_card</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
</span></span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="hll">    <span class="n">time_format</span> <span class="o">=</span> <span class="s2">&quot;%H:%M:%S %Z&quot;</span> <span class="k">if</span> <span class="n">use_24_hour_clock</span> <span class="k">else</span> <span class="s2">&quot;%I:%M:%S %p %Z&quot;</span>
</span></span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="hll">    <span class="n">timezone_name</span> <span class="o">=</span> <span class="s2">&quot;Europe/Berlin&quot;</span> <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span> <span class="k">else</span> <span class="s2">&quot;America/New_York&quot;</span>
</span></span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="hll">    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">ZoneInfo</span><span class="p">(</span><span class="n">timezone_name</span><span class="p">))</span>  <span class="c1"># (1)!</span>
</span></span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="hll">    <span class="n">time</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">time_format</span><span class="p">)</span>
</span></span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="hll">    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The time is </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span>
</span></span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="hll">
</span></span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="hll">
</span></span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="hll"><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span></span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">update_date_card</span><span class="p">(</span><span class="n">date_format</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
</span></span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="hll">    <span class="n">date_format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%y&quot;</span> <span class="k">if</span> <span class="n">date_format</span> <span class="o">==</span> <span class="s2">&quot;DD/MM/YY&quot;</span> <span class="k">else</span> <span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%y&quot;</span>
</span></span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="hll">    <span class="n">timezone_name</span> <span class="o">=</span> <span class="s2">&quot;Europe/Berlin&quot;</span> <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span> <span class="k">else</span> <span class="s2">&quot;America/New_York&quot;</span>
</span></span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="hll">    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">ZoneInfo</span><span class="p">(</span><span class="n">timezone_name</span><span class="p">))</span>
</span></span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="hll">    <span class="n">date</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
</span></span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="hll">    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The date is </span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s2">&quot;</span>
</span></span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="k">def</span><span class="w"> </span><span class="nf">fetch_weather</span><span class="p">(</span><span class="n">location</span><span class="p">):</span>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a>    <span class="n">berlin_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">52.5</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">13.4</span><span class="p">,</span> <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature_2m&quot;</span><span class="p">}</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a>    <span class="n">washington_dc_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">38.9</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">77.0</span><span class="p">,</span> <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature_2m&quot;</span><span class="p">}</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>    <span class="n">params</span> <span class="o">=</span> <span class="n">berlin_params</span> <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span> <span class="k">else</span> <span class="n">washington_dc_params</span>
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a>    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://api.open-meteo.com/v1/forecast&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a>    <span class="n">temperature</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;current&quot;</span><span class="p">][</span><span class="s2">&quot;temperature_2m&quot;</span><span class="p">]</span>
</span><span id="__span-9-35"><a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The current temperature in </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">temperature</span><span class="si">}</span><span class="s2">C&quot;</span>
</span><span id="__span-9-36"><a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a>
</span><span id="__span-9-37"><a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a>
</span><span id="__span-9-38"><a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-9-39"><a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_time_date_formats</span><span class="p">(</span><span class="n">location</span><span class="p">):</span>
</span><span id="__span-9-40"><a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a>    <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span><span class="p">:</span>
</span><span id="__span-9-41"><a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a><span class="hll">        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;DD/MM/YY&quot;</span><span class="p">,</span> <span class="s2">&quot;Fetching current weather...&quot;</span>  <span class="c1"># (2)!</span>
</span></span><span id="__span-9-42"><a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a><span class="hll">    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;MM/DD/YY&quot;</span><span class="p">,</span> <span class="s2">&quot;Fetching current weather...&quot;</span>
</span></span><span id="__span-9-43"><a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a>
</span><span id="__span-9-44"><a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a>
</span><span id="__span-9-45"><a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">)</span>
</span><span id="__span-9-46"><a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">)</span>
</span><span id="__span-9-47"><a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">)</span>
</span><span id="__span-9-48"><a id="__codelineno-9-48" name="__codelineno-9-48" href="#__codelineno-9-48"></a>
</span><span id="__span-9-49"><a id="__codelineno-9-49" name="__codelineno-9-49" href="#__codelineno-9-49"></a><span class="n">page</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span>
</span><span id="__span-9-50"><a id="__codelineno-9-50" name="__codelineno-9-50" href="#__codelineno-9-50"></a>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My first action&quot;</span><span class="p">,</span>
</span><span id="__span-9-51"><a id="__codelineno-9-51" name="__codelineno-9-51" href="#__codelineno-9-51"></a>    <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(),</span>
</span><span id="__span-9-52"><a id="__codelineno-9-52" name="__codelineno-9-52" href="#__codelineno-9-52"></a>    <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-9-53"><a id="__codelineno-9-53" name="__codelineno-9-53" href="#__codelineno-9-53"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
</span><span id="__span-9-54"><a id="__codelineno-9-54" name="__codelineno-9-54" href="#__codelineno-9-54"></a>            <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">),</span>
</span><span id="__span-9-55"><a id="__codelineno-9-55" name="__codelineno-9-55" href="#__codelineno-9-55"></a>            <span class="n">variant</span><span class="o">=</span><span class="s2">&quot;outlined&quot;</span><span class="p">,</span>
</span><span id="__span-9-56"><a id="__codelineno-9-56" name="__codelineno-9-56" href="#__codelineno-9-56"></a>            <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-9-57"><a id="__codelineno-9-57" name="__codelineno-9-57" href="#__codelineno-9-57"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
</span><span id="__span-9-58"><a id="__codelineno-9-58" name="__codelineno-9-58" href="#__codelineno-9-58"></a>                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;location_dropdown&quot;</span><span class="p">,</span>
</span><span id="__span-9-59"><a id="__codelineno-9-59" name="__codelineno-9-59" href="#__codelineno-9-59"></a>                    <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Berlin&quot;</span><span class="p">,</span> <span class="s2">&quot;Washington, D.C.&quot;</span><span class="p">],</span>
</span><span id="__span-9-60"><a id="__codelineno-9-60" name="__codelineno-9-60" href="#__codelineno-9-60"></a>                    <span class="n">multi</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="__span-9-61"><a id="__codelineno-9-61" name="__codelineno-9-61" href="#__codelineno-9-61"></a>                    <span class="n">actions</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-9-62"><a id="__codelineno-9-62" name="__codelineno-9-62" href="#__codelineno-9-62"></a>                        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span><span id="__span-9-63"><a id="__codelineno-9-63" name="__codelineno-9-63" href="#__codelineno-9-63"></a>                            <span class="n">function</span><span class="o">=</span><span class="n">update_time_date_formats</span><span class="p">(</span><span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span>
</span><span id="__span-9-64"><a id="__codelineno-9-64" name="__codelineno-9-64" href="#__codelineno-9-64"></a><span class="hll">                            <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span> <span class="s2">&quot;weather_card&quot;</span><span class="p">],</span>
</span></span><span id="__span-9-65"><a id="__codelineno-9-65" name="__codelineno-9-65" href="#__codelineno-9-65"></a>                        <span class="p">),</span>
</span><span id="__span-9-66"><a id="__codelineno-9-66" name="__codelineno-9-66" href="#__codelineno-9-66"></a><span class="hll">                        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">fetch_weather</span><span class="p">(</span><span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span> <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;weather_card&quot;</span><span class="p">),</span>
</span></span><span id="__span-9-67"><a id="__codelineno-9-67" name="__codelineno-9-67" href="#__codelineno-9-67"></a>                    <span class="p">],</span>
</span><span id="__span-9-68"><a id="__codelineno-9-68" name="__codelineno-9-68" href="#__codelineno-9-68"></a>                    <span class="n">extra</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;min-width&quot;</span><span class="p">:</span> <span class="s2">&quot;200px&quot;</span><span class="p">}},</span>
</span><span id="__span-9-69"><a id="__codelineno-9-69" name="__codelineno-9-69" href="#__codelineno-9-69"></a>                <span class="p">),</span>
</span><span id="__span-9-70"><a id="__codelineno-9-70" name="__codelineno-9-70" href="#__codelineno-9-70"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">(</span>
</span><span id="__span-9-71"><a id="__codelineno-9-71" name="__codelineno-9-71" href="#__codelineno-9-71"></a>                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span>
</span><span id="__span-9-72"><a id="__codelineno-9-72" name="__codelineno-9-72" href="#__codelineno-9-72"></a>                    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;24-hour clock&quot;</span><span class="p">,</span>
</span><span id="__span-9-73"><a id="__codelineno-9-73" name="__codelineno-9-73" href="#__codelineno-9-73"></a>                    <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-9-74"><a id="__codelineno-9-74" name="__codelineno-9-74" href="#__codelineno-9-74"></a><span class="hll">                    <span class="n">actions</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">update_time_card</span><span class="p">(</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span> <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">),</span>
</span></span><span id="__span-9-75"><a id="__codelineno-9-75" name="__codelineno-9-75" href="#__codelineno-9-75"></a>
</span><span id="__span-9-76"><a id="__codelineno-9-76" name="__codelineno-9-76" href="#__codelineno-9-76"></a>                <span class="p">),</span>
</span><span id="__span-9-77"><a id="__codelineno-9-77" name="__codelineno-9-77" href="#__codelineno-9-77"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">(</span>
</span><span id="__span-9-78"><a id="__codelineno-9-78" name="__codelineno-9-78" href="#__codelineno-9-78"></a>                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span>
</span><span id="__span-9-79"><a id="__codelineno-9-79" name="__codelineno-9-79" href="#__codelineno-9-79"></a>                    <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DD/MM/YY&quot;</span><span class="p">,</span> <span class="s2">&quot;MM/DD/YY&quot;</span><span class="p">],</span>
</span><span id="__span-9-80"><a id="__codelineno-9-80" name="__codelineno-9-80" href="#__codelineno-9-80"></a><span class="hll">                    <span class="n">actions</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">update_date_card</span><span class="p">(</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span> <span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span> <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;date_card&quot;</span><span class="p">),</span>
</span></span><span id="__span-9-81"><a id="__codelineno-9-81" name="__codelineno-9-81" href="#__codelineno-9-81"></a>                <span class="p">),</span>
</span><span id="__span-9-82"><a id="__codelineno-9-82" name="__codelineno-9-82" href="#__codelineno-9-82"></a>            <span class="p">],</span>
</span><span id="__span-9-83"><a id="__codelineno-9-83" name="__codelineno-9-83" href="#__codelineno-9-83"></a>        <span class="p">),</span>
</span><span id="__span-9-84"><a id="__codelineno-9-84" name="__codelineno-9-84" href="#__codelineno-9-84"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-9-85"><a id="__codelineno-9-85" name="__codelineno-9-85" href="#__codelineno-9-85"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-9-86"><a id="__codelineno-9-86" name="__codelineno-9-86" href="#__codelineno-9-86"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;weather_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-9-87"><a id="__codelineno-9-87" name="__codelineno-9-87" href="#__codelineno-9-87"></a>    <span class="p">],</span>
</span><span id="__span-9-88"><a id="__codelineno-9-88" name="__codelineno-9-88" href="#__codelineno-9-88"></a><span class="p">)</span>
</span><span id="__span-9-89"><a id="__codelineno-9-89" name="__codelineno-9-89" href="#__codelineno-9-89"></a>
</span><span id="__span-9-90"><a id="__codelineno-9-90" name="__codelineno-9-90" href="#__codelineno-9-90"></a><span class="n">dashboard</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">(</span><span class="n">pages</span><span class="o">=</span><span class="p">[</span><span class="n">page</span><span class="p">])</span>
</span><span id="__span-9-91"><a id="__codelineno-9-91" name="__codelineno-9-91" href="#__codelineno-9-91"></a><span class="n">Vizro</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">dashboard</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<ol>
<li><code>update_time_card</code> and <code>update_date_card</code> are now timezone-sensitive. We use the <code>location</code> set by the dropdown to choose the appropriate timezone.</li>
<li>Now that <code>submit_button</code> no longer exists, it is the responsibility of <code>update_time_date_formats</code> to update <code>weather_card</code> with the "Fetching current weather..." placeholder. This action is otherwise unchanged.</li>
</ol>
</div>
<div class="tabbed-block">
<p><a href="../../../assets/tutorials/actions/08_action.gif"><img alt="CustAction8" src="../../../assets/tutorials/actions/08_action.gif" /></a></p>
</div>
</div>
</div>
</details>
<p>Play around with the app for a while to make sure you understand its behavior:</p>
<ul>
<li>When you click the switch, just the time card updates.</li>
<li>When you click the radio items, just the date card updates.</li>
<li>When you use the dropdown, the switch and radio items update, which in turns updates the time and date cards, and the weather is fetched after an initial placeholder message is shown.</li>
</ul>
<p>Now that you're familiar with the notation of an actions flowchart we're going to make a few simplifications so that it doesn't get too large to understand. We no longer show the runtime inputs at all, and we omit the labels from the lines showing outputs and triggers (still shown with thick lines).</p>
<pre class="mermaid"><code>graph TD
  subgraph screen_1[" "]
    clock_switch
    date_radio_items
  end

  subgraph screen_2[" "]
    time_card
    date_card
    weather_card
  end

  update_time_card --&gt; time_card
  update_date_card --&gt; date_card
  update_time_date_formats --&gt; weather_card &amp; clock_switch &amp; date_radio_items
  fetch_weather --&gt; weather_card

  location_dropdown ==&gt; update_time_date_formats([update_time_date_formats])
  update_time_date_formats ==&gt; fetch_weather([fetch_weather])
  clock_switch ==&gt; update_time_card([update_time_card])
  date_radio_items ==&gt; update_date_card([update_date_card])
</code></pre>
<p>We still have an explicit actions chain <code>[update_time_date_formats, fetch_weather]</code>, since these are directly connected by a thick arrow. The connections between <code>update_time_date_formats</code> and the <code>update_time_card</code> and <code>update_date_card</code> actions are implicit since there is no direct connection; the lines go through intermediate models <code>clock_switch</code> and <code>date_radio_items</code> respectively.</p>
<p>In terms of execution order, we know that <code>fetch_weather</code> can only execute once <code>update_time_date_formats</code> has completed since these are in an explicit actions chain. But when <code>update_time_date_formats</code> completes, as well as triggering <code>fetch_weather</code>, it also implicitly triggers <code>update_time_card</code> and <code>update_date_card</code> simultaneously. Looking at the flowchart, we can see that all three of these actions can run in parallel and, in general, will do so. Each action will update its outputs on screen as soon as it has completed.</p>
<details class="details">
<summary>Parallel execution is not guaranteed</summary>
<p>The reason we say that the actions will <em>in general</em> run in parallel wherever possible is that, as <a href="https://dash.plotly.com/advanced-callbacks#as-a-direct-result-of-user-interaction">explained in the Dash documentation</a>, execution depends on the server environment. If you <a href="../../user-guides/run-deploy/#develop-in-python-script">use the Flask development server</a>, it is by default set to run multi-threaded and so actions can execute in parallel. In production, if you <a href="../../user-guides/run-deploy/#gunicorn">use gunicorn</a> with multiple workers then multiple actions can run in parallel.</p>
<p>However, if you <a href="../../user-guides/run-deploy/#develop-in-pycafe">work in PyCafe</a> you will find that multiple actions cannot run in parallel. This is a <a href="https://py.cafe/docs/how#limitations-of-pycafe">known limitation of PyCafe</a>. In this case, the three actions <code>fetch_weather</code>, <code>update_time_card</code> and <code>update_date_card</code> run serially, in an order that should not be relied upon. The same would happen if you ran the Flask development server with <code>threaded=False</code> or ran <code>gunicorn</code> with a single worker.</p>
</details>
<h2 id="handle-errors-and-debug">Handle errors and debug<a class="headerlink" href="#handle-errors-and-debug" title="Permanent link">&para;</a></h2>
<p>So far we have just considered the "happy path" where all actions run as planned. Let's also look at what happens if an action does not complete successfully.</p>
<p>For example, let's say that the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/Overview">HTTP request</a> to Open-Meteo in <code>fetch_weather</code> fails, for example due to a network problem or an incorrect URL. If we forget to include the <code>http://</code> in the request URL then <code>requests</code> raises a Python exception <code>requests.exceptions.MissingSchema</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">fetch_weather</span><span class="p">(</span><span class="n">location</span><span class="p">):</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    <span class="o">...</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="hll">    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;api.open-meteo.com/v1/forecast&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</span></span></code></pre></div>
<p>Now when the <code>fetch_weather</code> action runs you will see an error message about <code>requests.exceptions.MissingSchema</code> in the logs of the terminal where you run <code>python app.py</code>. Once a Python exception has been raised in a Vizro action, execution of the action ceases immediately and no outputs of that action will be updated. To the dashboard user it will not be apparent that an error has occurred; their screen will simply not show an update. In this example, <code>weather_card</code> will be stuck showing the placeholder message "Fetching current weather...".</p>
<p>For a better user experience, we can wrap the relevant code in <code>try/except</code> so that the placeholder message updates with a clear failure message in the case that the HTTP request fails. The full code is shown below.</p>
<details class="example">
<summary>Handle errors</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">app.py</label><label for="__tabbed_9_2">Result</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zoneinfo</span><span class="w"> </span><span class="kn">import</span> <span class="n">ZoneInfo</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vizro.models</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vm</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vizro</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vizro.models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">capture</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_time_card</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>    <span class="n">time_format</span> <span class="o">=</span> <span class="s2">&quot;%H:%M:%S %Z&quot;</span> <span class="k">if</span> <span class="n">use_24_hour_clock</span> <span class="k">else</span> <span class="s2">&quot;%I:%M:%S %p %Z&quot;</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>    <span class="n">timezone_name</span> <span class="o">=</span> <span class="s2">&quot;Europe/Berlin&quot;</span> <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span> <span class="k">else</span> <span class="s2">&quot;America/New_York&quot;</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">ZoneInfo</span><span class="p">(</span><span class="n">timezone_name</span><span class="p">))</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>    <span class="n">time</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">time_format</span><span class="p">)</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The time is </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_date_card</span><span class="p">(</span><span class="n">date_format</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a>    <span class="n">date_format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%y&quot;</span> <span class="k">if</span> <span class="n">date_format</span> <span class="o">==</span> <span class="s2">&quot;DD/MM/YY&quot;</span> <span class="k">else</span> <span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%y&quot;</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a>    <span class="n">timezone_name</span> <span class="o">=</span> <span class="s2">&quot;Europe/Berlin&quot;</span> <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span> <span class="k">else</span> <span class="s2">&quot;America/New_York&quot;</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a>    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">ZoneInfo</span><span class="p">(</span><span class="n">timezone_name</span><span class="p">))</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a>    <span class="n">date</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The date is </span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="k">def</span><span class="w"> </span><span class="nf">fetch_weather</span><span class="p">(</span><span class="n">location</span><span class="p">):</span>
</span><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a>    <span class="n">berlin_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">52.5</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">13.4</span><span class="p">,</span> <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature_2m&quot;</span><span class="p">}</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a>    <span class="n">washington_dc_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">38.9</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">77.0</span><span class="p">,</span> <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature_2m&quot;</span><span class="p">}</span>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a>    <span class="n">params</span> <span class="o">=</span> <span class="n">berlin_params</span> <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span> <span class="k">else</span> <span class="n">washington_dc_params</span>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="hll">    <span class="k">try</span><span class="p">:</span>
</span></span><span id="__span-11-34"><a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="hll">        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;api.open-meteo.com/v1/forecast&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</span></span><span id="__span-11-35"><a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="hll">        <span class="n">temperature</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;current&quot;</span><span class="p">][</span><span class="s2">&quot;temperature_2m&quot;</span><span class="p">]</span>  <span class="c1"># (1)!</span>
</span></span><span id="__span-11-36"><a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a><span class="hll">    <span class="k">except</span><span class="p">:</span>
</span></span><span id="__span-11-37"><a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="hll">        <span class="k">return</span> <span class="s2">&quot; Could not fetch weather&quot;</span>
</span></span><span id="__span-11-38"><a id="__codelineno-11-38" name="__codelineno-11-38" href="#__codelineno-11-38"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; The current temperature in </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">temperature</span><span class="si">}</span><span class="s2">C&quot;</span>
</span><span id="__span-11-39"><a id="__codelineno-11-39" name="__codelineno-11-39" href="#__codelineno-11-39"></a>
</span><span id="__span-11-40"><a id="__codelineno-11-40" name="__codelineno-11-40" href="#__codelineno-11-40"></a>
</span><span id="__span-11-41"><a id="__codelineno-11-41" name="__codelineno-11-41" href="#__codelineno-11-41"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-11-42"><a id="__codelineno-11-42" name="__codelineno-11-42" href="#__codelineno-11-42"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_time_date_formats</span><span class="p">(</span><span class="n">location</span><span class="p">):</span>
</span><span id="__span-11-43"><a id="__codelineno-11-43" name="__codelineno-11-43" href="#__codelineno-11-43"></a>    <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span><span class="p">:</span>
</span><span id="__span-11-44"><a id="__codelineno-11-44" name="__codelineno-11-44" href="#__codelineno-11-44"></a>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;DD/MM/YY&quot;</span><span class="p">,</span> <span class="s2">&quot;Fetching current weather...&quot;</span>
</span><span id="__span-11-45"><a id="__codelineno-11-45" name="__codelineno-11-45" href="#__codelineno-11-45"></a>    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;MM/DD/YY&quot;</span><span class="p">,</span> <span class="s2">&quot;Fetching current weather...&quot;</span>
</span><span id="__span-11-46"><a id="__codelineno-11-46" name="__codelineno-11-46" href="#__codelineno-11-46"></a>
</span><span id="__span-11-47"><a id="__codelineno-11-47" name="__codelineno-11-47" href="#__codelineno-11-47"></a>
</span><span id="__span-11-48"><a id="__codelineno-11-48" name="__codelineno-11-48" href="#__codelineno-11-48"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">)</span>
</span><span id="__span-11-49"><a id="__codelineno-11-49" name="__codelineno-11-49" href="#__codelineno-11-49"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">)</span>
</span><span id="__span-11-50"><a id="__codelineno-11-50" name="__codelineno-11-50" href="#__codelineno-11-50"></a><span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">add_type</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">)</span>
</span><span id="__span-11-51"><a id="__codelineno-11-51" name="__codelineno-11-51" href="#__codelineno-11-51"></a>
</span><span id="__span-11-52"><a id="__codelineno-11-52" name="__codelineno-11-52" href="#__codelineno-11-52"></a><span class="n">page</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span>
</span><span id="__span-11-53"><a id="__codelineno-11-53" name="__codelineno-11-53" href="#__codelineno-11-53"></a>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My first action&quot;</span><span class="p">,</span>
</span><span id="__span-11-54"><a id="__codelineno-11-54" name="__codelineno-11-54" href="#__codelineno-11-54"></a>    <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(),</span>
</span><span id="__span-11-55"><a id="__codelineno-11-55" name="__codelineno-11-55" href="#__codelineno-11-55"></a>    <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-11-56"><a id="__codelineno-11-56" name="__codelineno-11-56" href="#__codelineno-11-56"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
</span><span id="__span-11-57"><a id="__codelineno-11-57" name="__codelineno-11-57" href="#__codelineno-11-57"></a>            <span class="n">layout</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Flex</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">),</span>
</span><span id="__span-11-58"><a id="__codelineno-11-58" name="__codelineno-11-58" href="#__codelineno-11-58"></a>            <span class="n">variant</span><span class="o">=</span><span class="s2">&quot;outlined&quot;</span><span class="p">,</span>
</span><span id="__span-11-59"><a id="__codelineno-11-59" name="__codelineno-11-59" href="#__codelineno-11-59"></a>            <span class="n">components</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-11-60"><a id="__codelineno-11-60" name="__codelineno-11-60" href="#__codelineno-11-60"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
</span><span id="__span-11-61"><a id="__codelineno-11-61" name="__codelineno-11-61" href="#__codelineno-11-61"></a>                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;location_dropdown&quot;</span><span class="p">,</span>
</span><span id="__span-11-62"><a id="__codelineno-11-62" name="__codelineno-11-62" href="#__codelineno-11-62"></a>                    <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Berlin&quot;</span><span class="p">,</span> <span class="s2">&quot;Washington, D.C.&quot;</span><span class="p">],</span>
</span><span id="__span-11-63"><a id="__codelineno-11-63" name="__codelineno-11-63" href="#__codelineno-11-63"></a>                    <span class="n">multi</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="__span-11-64"><a id="__codelineno-11-64" name="__codelineno-11-64" href="#__codelineno-11-64"></a>                    <span class="n">actions</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-11-65"><a id="__codelineno-11-65" name="__codelineno-11-65" href="#__codelineno-11-65"></a>                        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span>
</span><span id="__span-11-66"><a id="__codelineno-11-66" name="__codelineno-11-66" href="#__codelineno-11-66"></a>                            <span class="n">function</span><span class="o">=</span><span class="n">update_time_date_formats</span><span class="p">(</span><span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span>
</span><span id="__span-11-67"><a id="__codelineno-11-67" name="__codelineno-11-67" href="#__codelineno-11-67"></a>                            <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span> <span class="s2">&quot;weather_card&quot;</span><span class="p">],</span>
</span><span id="__span-11-68"><a id="__codelineno-11-68" name="__codelineno-11-68" href="#__codelineno-11-68"></a>                        <span class="p">),</span>
</span><span id="__span-11-69"><a id="__codelineno-11-69" name="__codelineno-11-69" href="#__codelineno-11-69"></a>                        <span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">fetch_weather</span><span class="p">(</span><span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span> <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;weather_card&quot;</span><span class="p">),</span>
</span><span id="__span-11-70"><a id="__codelineno-11-70" name="__codelineno-11-70" href="#__codelineno-11-70"></a>                    <span class="p">],</span>
</span><span id="__span-11-71"><a id="__codelineno-11-71" name="__codelineno-11-71" href="#__codelineno-11-71"></a>                    <span class="n">extra</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;min-width&quot;</span><span class="p">:</span> <span class="s2">&quot;200px&quot;</span><span class="p">}},</span>
</span><span id="__span-11-72"><a id="__codelineno-11-72" name="__codelineno-11-72" href="#__codelineno-11-72"></a>                <span class="p">),</span>
</span><span id="__span-11-73"><a id="__codelineno-11-73" name="__codelineno-11-73" href="#__codelineno-11-73"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">Switch</span><span class="p">(</span>
</span><span id="__span-11-74"><a id="__codelineno-11-74" name="__codelineno-11-74" href="#__codelineno-11-74"></a>                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span>
</span><span id="__span-11-75"><a id="__codelineno-11-75" name="__codelineno-11-75" href="#__codelineno-11-75"></a>                    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;24-hour clock&quot;</span><span class="p">,</span>
</span><span id="__span-11-76"><a id="__codelineno-11-76" name="__codelineno-11-76" href="#__codelineno-11-76"></a>                    <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-11-77"><a id="__codelineno-11-77" name="__codelineno-11-77" href="#__codelineno-11-77"></a>                    <span class="n">actions</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">update_time_card</span><span class="p">(</span><span class="s2">&quot;clock_switch&quot;</span><span class="p">,</span> <span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span> <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">),</span>
</span><span id="__span-11-78"><a id="__codelineno-11-78" name="__codelineno-11-78" href="#__codelineno-11-78"></a>
</span><span id="__span-11-79"><a id="__codelineno-11-79" name="__codelineno-11-79" href="#__codelineno-11-79"></a>                <span class="p">),</span>
</span><span id="__span-11-80"><a id="__codelineno-11-80" name="__codelineno-11-80" href="#__codelineno-11-80"></a>                <span class="n">vm</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">(</span>
</span><span id="__span-11-81"><a id="__codelineno-11-81" name="__codelineno-11-81" href="#__codelineno-11-81"></a>                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span>
</span><span id="__span-11-82"><a id="__codelineno-11-82" name="__codelineno-11-82" href="#__codelineno-11-82"></a>                    <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DD/MM/YY&quot;</span><span class="p">,</span> <span class="s2">&quot;MM/DD/YY&quot;</span><span class="p">],</span>
</span><span id="__span-11-83"><a id="__codelineno-11-83" name="__codelineno-11-83" href="#__codelineno-11-83"></a>                    <span class="n">actions</span><span class="o">=</span><span class="n">vm</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">update_date_card</span><span class="p">(</span><span class="s2">&quot;date_radio_items&quot;</span><span class="p">,</span> <span class="s2">&quot;location_dropdown&quot;</span><span class="p">),</span> <span class="n">outputs</span><span class="o">=</span><span class="s2">&quot;date_card&quot;</span><span class="p">),</span>
</span><span id="__span-11-84"><a id="__codelineno-11-84" name="__codelineno-11-84" href="#__codelineno-11-84"></a>                <span class="p">),</span>
</span><span id="__span-11-85"><a id="__codelineno-11-85" name="__codelineno-11-85" href="#__codelineno-11-85"></a>            <span class="p">],</span>
</span><span id="__span-11-86"><a id="__codelineno-11-86" name="__codelineno-11-86" href="#__codelineno-11-86"></a>        <span class="p">),</span>
</span><span id="__span-11-87"><a id="__codelineno-11-87" name="__codelineno-11-87" href="#__codelineno-11-87"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;time_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-11-88"><a id="__codelineno-11-88" name="__codelineno-11-88" href="#__codelineno-11-88"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;date_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-11-89"><a id="__codelineno-11-89" name="__codelineno-11-89" href="#__codelineno-11-89"></a>        <span class="n">vm</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;weather_card&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click the button&quot;</span><span class="p">),</span>
</span><span id="__span-11-90"><a id="__codelineno-11-90" name="__codelineno-11-90" href="#__codelineno-11-90"></a>    <span class="p">],</span>
</span><span id="__span-11-91"><a id="__codelineno-11-91" name="__codelineno-11-91" href="#__codelineno-11-91"></a><span class="p">)</span>
</span><span id="__span-11-92"><a id="__codelineno-11-92" name="__codelineno-11-92" href="#__codelineno-11-92"></a>
</span><span id="__span-11-93"><a id="__codelineno-11-93" name="__codelineno-11-93" href="#__codelineno-11-93"></a><span class="n">dashboard</span> <span class="o">=</span> <span class="n">vm</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">(</span><span class="n">pages</span><span class="o">=</span><span class="p">[</span><span class="n">page</span><span class="p">])</span>
</span><span id="__span-11-94"><a id="__codelineno-11-94" name="__codelineno-11-94" href="#__codelineno-11-94"></a><span class="n">Vizro</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">dashboard</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<ol>
<li>Fetching <code>temperature</code> from the response is another potential source of an exception, for example if the structure of the Open-Meteo response changes, so we also put this line inside the <code>try</code>.</li>
</ol>
</div>
<div class="tabbed-block">
<p><a href="../../../assets/tutorials/actions/09_action.gif"><img alt="CustAction9" src="../../../assets/tutorials/actions/09_action.gif" /></a></p>
</div>
</div>
</div>
</details>
<p>If an action raises an uncaught exception then any actions that would be triggered by successful completion of the action, either in an explicit or implicit action chain, will also not execute. If you wish to deliberately cancel execution of an action then you can <a href="https://dash.plotly.com/advanced-callbacks#catching-errors-with-preventupdate"><code>raise dash.exceptions.PreventUpdate</code></a>. This will mean that none of the action's outputs are updated and no chained actions execute. For more fine-grained control, you can instead prevent update to only <em>some</em> of the outputs of an action by <a href="https://dash.plotly.com/advanced-callbacks#displaying-errors-with-dash.no_update">returning <code>dash.no_update</code></a>. In this case, only those chained actions that are triggered by outputs that did not update will be prevented from executing.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you develop in <a href="../../user-guides/run-deploy/#automatic-reloading-and-debugging">debug mode with <code>run(debug=True)</code></a> then the exception and traceback are shown in your browser, which is usually more convenient.</p>
<p>When developing your app, it can also be very useful to insert a breakpoint inside the code of an action. This enables you to pause execution of an action, inspect variables and understand what is happening. You can add breakpoints with most popular coding tools, for example <a href="https://code.visualstudio.com/docs/debugtest/debugging#_breakpoints">VS Code</a>.</p>
</div>
<h2 id="security">Security<a class="headerlink" href="#security" title="Permanent link">&para;</a></h2>
<p>When writing actions, you should always <a href="https://community.plotly.com/t/writing-secure-dash-apps-community-thread/54619">be careful when handling runtime input from untrusted users</a>. When a Vizro action is triggered, there is an HTTP request sent from the user's browser to the server. In theory, this contains the values of the action's runtime inputs fetched from the user's screen. However, there are ways for a malicious user to artificially construct an HTTP request that sends arbitrary values to the server. You should never assume that the values of runtime inputs in your Python action function are restricted to those that you have configured to be shown on the user's screen.</p>
<p>For example, our <code>vm.Dropdown(id="location_dropdown")</code> has <code>options=["Berlin", "Washington, D.C."]</code>, which presents only those two location options on the user's screen. Let's look at one action which uses this as runtime input:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_time_card</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    <span class="o">...</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="n">timezone_name</span> <span class="o">=</span> <span class="s2">&quot;Europe/Berlin&quot;</span> <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="s2">&quot;Berlin&quot;</span> <span class="k">else</span> <span class="s2">&quot;America/New_York&quot;</span>
</span></code></pre></div>
<p>We might expect the value of <code>location</code> to be either "Berlin" or "Washington, D.C.", as per the dropdown's available options, but we can never guarantee that this is the case. A malicious user can trigger <code>update_time_card</code> with <em>any</em> JSON-compatible value for <code>location</code>. The code written here has no security risk because if <code>location</code> is set to any value other than "Berlin" then the timezone is set to "America/New_York". This will be the case for both the expected trusted user input <code>location="Washington, D.C."</code> and arbitrary untrusted input such as <code>location="Paris"</code> and <code>location=42</code>.</p>
<p>However, imagine that we had a secret database of all the world's timezones that includes some classified locations not known to the general public. The <code>update_time_card</code> action looks up the timezone of the input <code>location</code> in the database:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">SECRET_TIMEZONE_DATABASE</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    <span class="s2">&quot;Berlin&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Berlin&quot;</span><span class="p">,</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    <span class="s2">&quot;Washington, D.C.&quot;</span><span class="p">:</span> <span class="s2">&quot;America/New_York&quot;</span><span class="p">,</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    <span class="s2">&quot;Area 51&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Los_Angeles&quot;</span><span class="p">,</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    <span class="s2">&quot;Top secret bunker&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/London&quot;</span><span class="p">,</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="p">}</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_time_card</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>    <span class="o">...</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>    <span class="n">timezone_name</span> <span class="o">=</span> <span class="n">SECRET_TIMEZONE_DATABASE</span><span class="p">[</span><span class="n">location</span><span class="p">]</span>
</span></code></pre></div>
<p>Even though we have set <code>options=["Berlin", "Washington, D.C."]</code> in our <code>vm.Dropdown</code>, a malicious user could construct an HTTP request that sets <code>location="Top secret bunker"</code>. There would be nothing to stop <code>update_time_card</code> running and exposing the time at the top secret bunker! You could protect against this by validating that the <code>location</code> value is indeed one of the expected values and <a href="#handle-errors-and-debug">raising an exception if not</a>:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">dash.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">PreventUpdate</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nd">@capture</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">)</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_time_card</span><span class="p">(</span><span class="n">use_24_hour_clock</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    <span class="k">if</span> <span class="n">location</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Berlin&quot;</span><span class="p">,</span> <span class="s2">&quot;Washington, D.C.&quot;</span><span class="p">]:</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>        <span class="k">raise</span> <span class="n">PreventUpdate</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>    <span class="n">timezone_name</span> <span class="o">=</span> <span class="n">SECRET_TIMEZONE_DATABASE</span><span class="p">[</span><span class="n">location</span><span class="p">]</span>
</span></code></pre></div>
<p>In many cases, untrusted user input does <em>not</em> pose a security risk. For example, if we looked up <code>SECRET_TIMEZONE_DATABASE["nonexistent key"]</code> then Python would raise a <code>KeyError</code> exception, which would also cancel execution of the action and not update any information on the user's screen. However, there are <a href="https://community.plotly.com/t/writing-secure-dash-apps-community-thread/54619">certain scenarios</a>, such as file system manipulation and SQL queries, where you should be particularly vigilant.</p>
<h2 id="key-principles-of-actions">Key principles of actions<a class="headerlink" href="#key-principles-of-actions" title="Permanent link">&para;</a></h2>
<p>Congratulations on completing the tutorial! You should now be able to write quite complex custom actions. To recap, let's summarize some of the key principles of how actions work.</p>
<ul>
<li>An action is a Python function that executes when it is triggered by a user interacting with a component on their screen.</li>
<li>An action can have any number of inputs and outputs but only one trigger.</li>
<li>Any number of actions can be chained together. There are two ways to chain actions:<ul>
<li>Explicitly: when you set <code>actions=[action_1, action_2, ...]</code> then <code>action_2</code> only runs after <code>action_1</code> has completed.</li>
<li>Implicitly: when one action outputs something that automatically triggers another action.</li>
</ul>
</li>
<li>When multiple actions are triggered simultaneously, they usually execute in parallel.</li>
<li>You can cancel execution of an action and subsequent chained actions by raising an exception.</li>
<li>For security, you should always assume that inputs to your actions have been generated by an untrusted user.</li>
</ul>














                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://zensical.org/" target="_blank" rel="noopener">
      Zensical
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      
      <script id="__config" type="application/json">{"annotate":null,"base":"../..","features":["navigation.expand","navigation.instant","navigation.indexes","navigation.tabs","navigation.tabs.sticky","navigation.tracking","search.suggest","search.highlight","content.tabs.link","content.code.annotation","content.code.copy","content.code.annotate"],"search":"../../assets/javascripts/workers/search.5df7522c.min.js","tags":null,"translations":{"clipboard.copied":"Copied to clipboard","clipboard.copy":"Copy to clipboard","search.result.more.one":"1 more on this page","search.result.more.other":"# more on this page","search.result.none":"No matching documents","search.result.one":"1 matching document","search.result.other":"# matching documents","search.result.placeholder":"Type to start searching","search.result.term.missing":"Missing","select.version":"Select version"},"version":null}</script>
    
    
      <script src="../../assets/javascripts/bundle.21aa498e.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>